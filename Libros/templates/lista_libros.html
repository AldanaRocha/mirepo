

{% extends 'base.html' %}
{% load static %}

{% block title %}Libros{% endblock %}

{% block content %}
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2><i class="fas fa-book"></i> Catálogo de Libros</h2>
    </div>
    <a href="{% url 'libros_crear' %}" class="btn btn-warning btn-sm"> <i class="fas fa-edit"></i> Nuevo</a>

<div class="card-grid">
 {% for libro in object_list %}
    <div class='card'>  
      <ul>
                <li><h4><strong>{{libro.titulo}}</strong> </h4>
                  <h5><STrong>AUTOR:</STrong>{{libro.autor}}</h5>
                  <h5><strong>AÑO: </strong>{{libro.año}}</h5>
                  <span class="badge bg-primary">Cateoria: </span><span class="badge bg-primary">{{ libro.categoria.nombre }}</span>
                  <span class="badge bg-primary">Estado:</span>{% if libro.disponible %}<span class="badge   bg-success">Disponible</span>{% else %} <span class="badge bg-danger">No disponible</span>
                   {% endif %}
                  <a href="{% url 'libros_editar' libro.id %}" class="btn btn-success btn-sm">
                  <i class="fas fa-edit"></i> Editar</a>
                    <!-- Botón eliminar DENTRO del loop -->
                  <form method="post" action="{% url 'libros_eliminar' libro.pk %}" style="display: inline;">
                   {% csrf_token %}
                  <button type="submit" class="btn btn-danger btn-sm" 
                        onclick="return confirm('¿Eliminar {{ libro.titulo }}?')">
                    Eliminar
                   </button>
                  </form></li>
      </ul>
        
    </div>
  {% endfor %}             
</div> 
  


{% endblock %}